<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite"
    mc:Ignorable="d">

    <Style x:Key="NowPlayingWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid>
                        <Border
                            Width="1280"
                            Height="640"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Background="{DynamicResource BottomBarBackgroundBrush}"
                            BorderBrush="{DynamicResource DefaultBorderBrush}"
                            BorderThickness="1"
                            CornerRadius="16">
                            <Border.Opacity>0</Border.Opacity>
                            <Border.RenderTransform>
                                <TranslateTransform Y="-200" />
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="10"
                                    Direction="315"
                                    Opacity="0.5"
                                    ShadowDepth="5"
                                    Color="Black" />
                            </Border.Effect>
                            <Border.Triggers>
                                <!--  Fade in animation on load  -->
                                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="Opacity"
                                                To="1"
                                                Duration="0:0:0.2" />
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)"
                                                To="0"
                                                Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>

                                <!--  Fade out animation on unload  -->
                                <EventTrigger RoutedEvent="FrameworkElement.Unloaded">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:0.2" />
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)"
                                                To="-200"
                                                Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseIn" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Border.Triggers>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <!--  Cover Image with mask for blending  -->
                                <Border
                                    x:Name="CoverMask"
                                    Grid.Column="1"
                                    Margin="0"
                                    Background="Black"
                                    CornerRadius="0,16,16,0" />

                                <Image
                                    Grid.Column="1"
                                    Margin="0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    Source="{PluginSettings Plugin=NowPlaying,
                                                            Path=RunningGame.CoverPath}"
                                    Stretch="UniformToFill">
                                    <Image.OpacityMask>
                                        <VisualBrush
                                            RenderOptions.BitmapScalingMode="Fant"
                                            Stretch="Fill"
                                            Visual="{Binding ElementName=CoverMask}" />
                                    </Image.OpacityMask>
                                </Image>

                                <!--  Game Details  -->
                                <StackPanel
                                    Grid.Column="0"
                                    Margin="48,48,24,48"
                                    VerticalAlignment="Top">

                                    <TextBlock
                                        Margin="0,0,0,16"
                                        FontFamily="{DynamicResource FontDefaultBold}"
                                        FontSize="24"
                                        Foreground="{DynamicResource TextBrushDark}"
                                        Style="{DynamicResource TextBlockBaseStyle}">
                                        Currently Playing
                                    </TextBlock>
                                    <!--  Game Title  -->
                                    <TextBlock
                                        Margin="0,0,0,40"
                                        FontFamily="{DynamicResource FontDefaultBold}"
                                        FontSize="64"
                                        Foreground="{DynamicResource TextBrush}"
                                        Style="{DynamicResource TextBlockBaseStyle}"
                                        Text="{PluginSettings Plugin=NowPlaying,
                                                              Path=RunningGame.GameName}"
                                        TextWrapping="Wrap">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                Opacity="1"
                                                RenderingBias="Quality"
                                                ShadowDepth="2"
                                                Color="Black" />
                                        </TextBlock.Effect>
                                    </TextBlock>

                                    <!--  Game Info  -->
                                    <StackPanel Margin="0,0,0,20" Orientation="Horizontal">
                                        <!--  Session Length  -->
                                        <TextBlock
                                            Margin="72,0,12,0"
                                            Opacity="0.75"
                                            Style="{StaticResource FluentIconStyle}"
                                            Text="&#xe916;" />
                                        <StackPanel>
                                            <TextBlock
                                                FontFamily="{DynamicResource FontDefaultBold}"
                                                Style="{DynamicResource TextBlockBaseStyle}"
                                                Text="{PluginSettings Plugin=NowPlaying,
                                                                      Path=SessionLength}" />
                                            <TextBlock
                                                FontSize="22"
                                                Opacity="0.75"
                                                Style="{DynamicResource TextBlockBaseStyle}"
                                                Text="This Session" />
                                        </StackPanel>

                                        <!--  Start Time  -->
                                        <TextBlock
                                            Margin="72,0,12,0"
                                            Opacity="0.75"
                                            Style="{StaticResource FluentIconStyle}"
                                            Text="&#xed5a;" />
                                        <StackPanel>
                                            <TextBlock
                                                FontFamily="{DynamicResource FontDefaultBold}"
                                                Style="{DynamicResource TextBlockBaseStyle}"
                                                Text="{PluginSettings Plugin=NowPlaying,
                                                                      Path=RunningGame.StartTime,
                                                                      StringFormat='HH:mm'}" />
                                            <TextBlock
                                                FontSize="22"
                                                Opacity="0.75"
                                                Style="{DynamicResource TextBlockBaseStyle}"
                                                Text="Started" />
                                        </StackPanel>
                                    </StackPanel>

                                    <!--  Controls  -->
                                    <StackPanel
                                        Margin="0,20,0,0"
                                        pbeh:FocusBahaviors.FocusBinding="True"
                                        pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                        Orientation="Horizontal">
                                        <ButtonEx
                                            Margin="0,2,2,2"
                                            BorderThickness="2"
                                            Command="{PluginSettings Plugin=NowPlaying,
                                                                     Path=ReturnToGame}"
                                            Style="{DynamicResource ButtonBig}">
                                            Return to Game
                                        </ButtonEx>
                                        <ButtonEx
                                            Margin="32,2,2,2"
                                            BorderThickness="2"
                                            Command="{PluginSettings Plugin=NowPlaying,
                                                                     Path=CloseGame}"
                                            Style="{DynamicResource ButtonBig}">
                                            Exit
                                        </ButtonEx>
                                    </StackPanel>

                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="MoDataWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="600" />
                        </Grid.ColumnDefinitions>
                        <Border
                            Grid.Column="1"
                            Width="616"
                            Margin="0,16,-17,16"
                            Padding="16,5,49,16"
                            HorizontalAlignment="Left"
                            Background="{DynamicResource OverlayMenuBackgroundBrush}"
                            BorderBrush="{DynamicResource DefaultBorderBrush}"
                            BorderThickness="1"
                            CornerRadius="16">
                            <!--  Set initial state for animation  -->
                            <Border.Opacity>0</Border.Opacity>
                            <Border.RenderTransform>
                                <TranslateTransform X="200" />
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="10"
                                    Direction="315"
                                    Opacity="0.5"
                                    ShadowDepth="5"
                                    Color="Black" />
                            </Border.Effect>
                            <Border.Triggers>
                                <!--  Fade in animation on load  -->
                                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="Opacity"
                                                To="1"
                                                Duration="0:0:0.2" />
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                                To="0"
                                                Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>

                                <!--  Fade out animation on unload  -->
                                <EventTrigger RoutedEvent="FrameworkElement.Unloaded">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:0.2" />
                                            <DoubleAnimation
                                                Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                                To="200"
                                                Duration="0:0:0.2">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseIn" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Border.Triggers>
                            <StackPanel
                                pbeh:FocusBahaviors.FocusBinding="True"
                                pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                Orientation="Vertical">
                                <StackPanel
                                    Grid.Column="5"
                                    Margin="0,-2,0,0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal">

                                    <TextBlock
                                        x:Name="PART_MoDetailsTextBatteryPercentage"
                                        Margin="32,-4,0,0"
                                        VerticalAlignment="Center"
                                        FontSize="42"
                                        Style="{DynamicResource TextBlockBaseStyle}"
                                        Text="{PluginSettings Plugin=MoData,
                                                              Path=PercentChargeString}" />
                                    <Grid Margin="0,7,0,0">
                                        <ContentControl
                                            x:Name="PART_MoDetailsElemBatteryStatus"
                                            Margin="0,-8,10,0"
                                            VerticalAlignment="Center"
                                            Focusable="False"
                                            FontSize="96">
                                            <ContentControl.Style>
                                                <Style TargetType="{x:Type ContentControl}">
                                                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="Critical">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusCritical}" />
                                                            <Setter Property="Foreground" Value="{DynamicResource WarningBrush}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="Low">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusLow}" />
                                                            <Setter Property="Foreground" Value="{DynamicResource AlertBrush}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="Medium">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusMedium}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="High">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusHigh}" />
                                                            <Setter Property="Foreground" Value="{DynamicResource SuccessBrush}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=IsCharging}" Value="True">
                                                            <Setter Property="Opacity" Value="0" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ContentControl.Style>
                                        </ContentControl>
                                        <ContentControl
                                            x:Name="MoDetailsBatteryCharger"
                                            Margin="0,-8,10,0"
                                            VerticalAlignment="Center"
                                            Focusable="False"
                                            FontSize="96">
                                            <ContentControl.Style>
                                                <Style TargetType="{x:Type ContentControl}">
                                                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=IsCharging}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="Critical">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusChargingCritical}" />
                                                            <Setter Property="Foreground" Value="{DynamicResource AlertBrush}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="Low">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusChargingLow}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="Medium">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusChargingMedium}" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=BatteryCharge}" Value="High">
                                                            <Setter Property="Content" Value="{DynamicResource DetailsBatteryStatusChargingHigh}" />
                                                            <Setter Property="Foreground" Value="{DynamicResource SuccessBrush}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ContentControl.Style>
                                        </ContentControl>
                                    </Grid>
                                    <TextBlock
                                        x:Name="PART_MoDetailsTextClock"
                                        Margin="20,-4,6,0"
                                        VerticalAlignment="Center"
                                        FontSize="42"
                                        Style="{DynamicResource TextBlockBaseStyle}"
                                        Text="{PluginSettings Plugin=MoData,
                                                              Path=Time}" />
                                </StackPanel>
                                <TextBlock Margin="0,64,0,16" Style="{DynamicResource TextBlockBaseStyle}">Network Connectivity</TextBlock>
                                <ButtonEx Margin="0,16,0,16" Command="{PluginSettings Plugin=MoData, Path=OpenNetworkSettings}">
                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                        <TextBlock
                                            x:Name="MoDetails_Wifi"
                                            Margin="-4,0,10,0"
                                            VerticalAlignment="Center"
                                            FontFamily="Segoe Fluent Icons"
                                            FontSize="48">
                                            <TextBlock.Style>
                                                <Style TargetType="{x:Type TextBlock}">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginStatus Plugin=MoData_5a0a672a-998a-4cf3-94ea-44543de5afcb, Status=Installed}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Full">
                                                            <Setter Property="Text" Value="&#xe701;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Strong">
                                                            <Setter Property="Text" Value="&#xe874;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Medium">
                                                            <Setter Property="Text" Value="&#xe873;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Weak">
                                                            <Setter Property="Text" Value="&#xe872;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="None">
                                                            <Setter Property="Text" Value="&#xf384;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Wired">
                                                            <Setter Property="Text" Value="&#xe774;" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                        <TextBlock
                                            Margin="16,0,0,0"
                                            FontSize="32"
                                            Text="{PluginSettings Plugin=MoData,
                                                                  Path=NetworkName}" />
                                    </StackPanel>
                                </ButtonEx>
                                <TextBlock Margin="0,64,0,16" Style="{DynamicResource TextBlockBaseStyle}">Storage</TextBlock>
                                <ItemsControl Focusable="False" ItemsSource="{PluginSettings Plugin=MoData, Path=DiskUsages}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Grid Margin="0,8,0,8" Visibility="{Binding Converter={StaticResource NullToVisibilityConverter}}">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="80" />
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <!--  Letter and Capacity  -->
                                                <StackPanel
                                                    Grid.Column="0"
                                                    Margin="0,0,16,0"
                                                    VerticalAlignment="Center"
                                                    Orientation="Vertical">
                                                    <TextBlock
                                                        HorizontalAlignment="Left"
                                                        FontSize="32"
                                                        FontWeight="Bold"
                                                        Foreground="{DynamicResource TextBrush}"
                                                        Text="{Binding Label, Mode=OneWay}" />

                                                    <TextBlock
                                                        HorizontalAlignment="Left"
                                                        FontSize="14"
                                                        FontWeight="SemiBold"
                                                        Foreground="{DynamicResource TextBrush}"
                                                        Opacity="0.75"
                                                        Text="{Binding TotalSpaceString, Mode=OneWay}" />
                                                </StackPanel>

                                                <!--  Disk Info  -->
                                                <StackPanel Grid.Column="1" Margin="0,8,0,8">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>

                                                        <TextBlock
                                                            Grid.Column="0"
                                                            VerticalAlignment="Center"
                                                            FontSize="14"
                                                            FontWeight="Bold"
                                                            Foreground="{DynamicResource TextBrush}"
                                                            Text="{Binding UsedPercentageString, Mode=OneWay}" />

                                                        <StackPanel
                                                            Grid.Column="1"
                                                            HorizontalAlignment="Right"
                                                            Orientation="Horizontal">
                                                            <TextBlock
                                                                VerticalAlignment="Center"
                                                                FontSize="14"
                                                                Foreground="{DynamicResource TextBrush}"
                                                                Text="Free Space: " />
                                                            <TextBlock
                                                                VerticalAlignment="Center"
                                                                FontSize="14"
                                                                FontWeight="SemiBold"
                                                                Foreground="{DynamicResource TextBrush}"
                                                                Text="{Binding FreeSpaceString, Mode=OneWay}" />
                                                        </StackPanel>
                                                    </Grid>

                                                    <ProgressBar
                                                        Height="24"
                                                        Margin="0,4,0,0"
                                                        HorizontalAlignment="Stretch"
                                                        Maximum="100"
                                                        Value="{Binding UsedPercentage, Mode=OneWay}">
                                                        <ProgressBar.Style>
                                                            <Style BasedOn="{StaticResource BarRound12}" TargetType="ProgressBar">
                                                                <Setter Property="Foreground" Value="{DynamicResource SuccessBrush}" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding UsedTenthsInt, Mode=OneWay}" Value="7">
                                                                        <Setter Property="Foreground" Value="{DynamicResource AlertBrush}" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding UsedTenthsInt, Mode=OneWay}" Value="8">
                                                                        <Setter Property="Foreground" Value="{DynamicResource AlertBrush}" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding UsedTenthsInt, Mode=OneWay}" Value="9">
                                                                        <Setter Property="Foreground" Value="{DynamicResource WarningBrush}" />
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding UsedTenthsInt, Mode=OneWay}" Value="10">
                                                                        <Setter Property="Foreground" Value="{DynamicResource WarningBrush}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ProgressBar.Style>
                                                    </ProgressBar>
                                                </StackPanel>
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                                <ButtonEx Margin="0,16,0,16" Command="{PluginSettings Plugin=MoData, Path=OpenAppsSettings}">
                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                        <TextBlock
                                            Margin="-4,0,10,0"
                                            VerticalAlignment="Center"
                                            FontFamily="Segoe Fluent Icons"
                                            FontSize="48"
                                            Text="&#xecaa;" />
                                        <TextBlock
                                            Margin="16,0,0,0"
                                            FontSize="36"
                                            Text="Manage Apps and Games" />
                                    </StackPanel>
                                </ButtonEx>
                            </StackPanel>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Main}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Main}">
                    <Grid
                        x:Name="PART_MainHost"
                        d:DataContext="{x:Static DesignMainViewModel.DesignIntance}"
                        d:DesignHeight="{StaticResource DesignHeight}"
                        d:DesignWidth="{StaticResource DesignWidth}">
                        <Grid x:Name="PART_ViewHost" Background="{DynamicResource MainBackgourndBrush}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <FadeImage
                                x:Name="PART_ImageBackground"
                                Grid.RowSpan="5"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Top" />
                            <Grid
                                Grid.Row="0"
                                Height="80"
                                Margin="0,24">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="24" />
                                </Grid.ColumnDefinitions>
                                <ButtonEx
                                    Grid.Column="1"
                                    Margin="12,8,32,8"
                                    Command="{PluginSettings Plugin=NowPlaying,
                                                             Path=OpenCustomDialog}">
                                    <ButtonEx.Style>
                                        <Style BasedOn="{StaticResource ButtonNowPlaying}" TargetType="ButtonEx">
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginStatus Plugin=NowPlaying_db4e7ade-57fb-426c-8392-60e2347a0209, Status=Installed}" Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=NowPlaying, Path=IsGameRunning}" Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ButtonEx.Style>
                                    <StackPanel Orientation="Horizontal">
                                        <Image
                                            Width="56"
                                            Height="56"
                                            Source="{PluginSettings Plugin=NowPlaying,
                                                                    Path=RunningGame.IconPath}"
                                            Style="{DynamicResource NowPlayingImageStyle}" />
                                        <StackPanel Margin="0,0,0,-6" Orientation="Vertical">
                                            <TextBlock
                                                x:Name="NowPlaying_Title"
                                                Style="{DynamicResource NowPlayingTitleStyle}"
                                                Text="NOW PLAYING" />
                                            <TextBlock
                                                x:Name="NowPlaying_Game"
                                                Style="{DynamicResource NowPlayingGameStyle}"
                                                Text="{PluginSettings Plugin=NowPlaying,
                                                                      Path=RunningGame.GameName}" />
                                        </StackPanel>
                                    </StackPanel>
                                </ButtonEx>

                                <Border
                                    x:Name="PART_ElemProgressIndicator"
                                    Grid.Column="3"
                                    Margin="12,8,32,8"
                                    Padding="16,0"
                                    Background="{DynamicResource TopBarBackgroundBrush}"
                                    BorderBrush="{DynamicResource DefaultBorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="16">
                                    <Border.Effect>
                                        <DropShadowEffect
                                            BlurRadius="10"
                                            Direction="315"
                                            Opacity="0.5"
                                            ShadowDepth="5"
                                            Color="Black" />
                                    </Border.Effect>
                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                        <TextBlock
                                            x:Name="PART_TextProgressTooltip"
                                            Margin="0,0,15,0"
                                            VerticalAlignment="Center"
                                            FontSize="20"
                                            Style="{DynamicResource TextBlockBaseStyle}" />
                                        <ContentControl
                                            Width="38"
                                            Height="38"
                                            VerticalAlignment="Center"
                                            Focusable="False"
                                            Style="{DynamicResource ProgressIndicator}" />
                                    </StackPanel>
                                </Border>

                                <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                    <Border
                                        x:Name="PART_ElemSearchActive"
                                        Height="64"
                                        Margin="12,8,32,8"
                                        Padding="16,0"
                                        VerticalAlignment="Center"
                                        Background="{DynamicResource TopBarBackgroundBrush}"
                                        BorderBrush="{DynamicResource DefaultBorderBrush}"
                                        BorderThickness="1"
                                        CornerRadius="16">
                                        <Border.Effect>
                                            <DropShadowEffect
                                                BlurRadius="10"
                                                Direction="315"
                                                Opacity="0.5"
                                                ShadowDepth="5"
                                                Color="Black" />
                                        </Border.Effect>
                                        <StackPanel
                                            Margin="0,0,0,0"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center">
                                            <TextBlock
                                                FontSize="14"
                                                Foreground="{DynamicResource TextBrushDark}"
                                                Style="{DynamicResource TextBlockBaseStyle}"
                                                Text="{DynamicResource LOCGameListSearchResults}" />
                                            <TextBlock
                                                FontSize="24"
                                                Style="{DynamicResource TextBlockBaseStyle}"
                                                Text="{Binding AppSettings.Fullscreen.FilterSettings.Name}" />
                                        </StackPanel>
                                    </Border>
                                    <Border
                                        x:Name="PART_ElemExtraFilterActive"
                                        Height="64"
                                        Margin="12,8,32,8"
                                        Padding="16,0"
                                        VerticalAlignment="Center"
                                        Background="{DynamicResource TopBarBackgroundBrush}"
                                        BorderBrush="{DynamicResource DefaultBorderBrush}"
                                        BorderThickness="1"
                                        CornerRadius="16">
                                        <Border.Effect>
                                            <DropShadowEffect
                                                BlurRadius="10"
                                                Direction="315"
                                                Opacity="0.5"
                                                ShadowDepth="5"
                                                Color="Black" />
                                        </Border.Effect>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            FontSize="20"
                                            Style="{DynamicResource TextBlockBaseStyle}"
                                            Text="{DynamicResource LOCGameListExtraFiltered}" />
                                    </Border>
                                </StackPanel>
                                <ButtonEx
                                    x:Name="ShowDataButton"
                                    Grid.Column="5"
                                    VerticalAlignment="Center"
                                    Background="Transparent"
                                    Command="{PluginSettings Plugin=MoData,
                                                             Path=MoDetails}">
                                    <ButtonEx.Style>
                                        <Style BasedOn="{StaticResource ButtonTopMenuData}" TargetType="ButtonEx">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginStatus Plugin=MoData_5a0a672a-998a-4cf3-94ea-44543de5afcb, Status=Installed}" Value="False">
                                                    <Setter Property="Focusable" Value="False" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ButtonEx.Style>
                                    <StackPanel
                                        Height="76"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Orientation="Horizontal">
                                        <TextBlock
                                            x:Name="MoData_Wifi"
                                            Margin="0,0,10,0"
                                            VerticalAlignment="Center"
                                            FontFamily="Segoe Fluent Icons"
                                            FontSize="48"
                                            Foreground="{DynamicResource TextBrush}">
                                            <TextBlock.Style>
                                                <Style TargetType="{x:Type TextBlock}">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginStatus Plugin=MoData_5a0a672a-998a-4cf3-94ea-44543de5afcb, Status=Installed}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Full">
                                                            <Setter Property="Text" Value="&#xe701;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Strong">
                                                            <Setter Property="Text" Value="&#xe874;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Medium">
                                                            <Setter Property="Text" Value="&#xe873;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Weak">
                                                            <Setter Property="Text" Value="&#xe872;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="None">
                                                            <Setter Property="Text" Value="&#xf384;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Wired">
                                                            <Setter Property="Text" Value="&#xe774;" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                        <TextBlock
                                            x:Name="PART_TextBatteryPercentage"
                                            Margin="32,0,0,0"
                                            VerticalAlignment="Center"
                                            FontSize="42"
                                            Style="{DynamicResource TextBlockBaseStyle}" />
                                        <Grid>
                                            <ContentControl
                                                x:Name="PART_ElemBatteryStatus"
                                                Margin="0,-8,10,0"
                                                VerticalAlignment="Center"
                                                Focusable="False"
                                                FontSize="96">
                                                <ContentControl.Style>
                                                    <Style TargetType="{x:Type ContentControl}">
                                                        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Critical">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusCritical}" />
                                                                <Setter Property="Foreground" Value="{DynamicResource WarningBrush}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Low">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusLow}" />
                                                                <Setter Property="Foreground" Value="{DynamicResource AlertBrush}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Medium">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusMedium}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="High">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusHigh}" />
                                                                <Setter Property="Foreground" Value="{DynamicResource SuccessBrush}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.IsCharging}" Value="True">
                                                                <Setter Property="Opacity" Value="0" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ContentControl.Style>
                                            </ContentControl>
                                            <ContentControl
                                                x:Name="BatteryCharger"
                                                Margin="0,-8,10,0"
                                                VerticalAlignment="Center"
                                                Focusable="False"
                                                FontSize="96">
                                                <ContentControl.Style>
                                                    <Style TargetType="{x:Type ContentControl}">
                                                        <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding PowerStatus.IsCharging}" Value="True">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Critical">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusChargingCritical}" />
                                                                <Setter Property="Foreground" Value="{DynamicResource AlertBrush}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Low">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusChargingLow}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Medium">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusChargingMedium}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="High">
                                                                <Setter Property="Content" Value="{DynamicResource BatteryStatusChargingHigh}" />
                                                                <Setter Property="Foreground" Value="{DynamicResource SuccessBrush}" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ContentControl.Style>
                                            </ContentControl>
                                        </Grid>
                                        <TextBlock
                                            x:Name="PART_TextClock"
                                            Margin="20,0,12,0"
                                            VerticalAlignment="Center"
                                            FontSize="42"
                                            Style="{DynamicResource TextBlockBaseStyle}" />
                                    </StackPanel>
                                </ButtonEx>


                            </Grid>
                            <DockPanel Grid.Row="2">
                                <Filters
                                    x:Name="PART_ElemFilters"
                                    Margin="0,-96,-8,0"
                                    DockPanel.Dock="Left"
                                    Focusable="False" />

                                <FiltersAdditional
                                    x:Name="PART_ElemFiltersAdditional"
                                    DockPanel.Dock="Left"
                                    Focusable="False" />

                                <ContentControl
                                    x:Name="PART_ContentFilterItems"
                                    DockPanel.Dock="Left"
                                    Focusable="False" />
                                <ListBoxEx
                                    x:Name="PART_ListGameItems"
                                    Margin="0,-64,0,0"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    DockPanel.Dock="Right"
                                    KeyboardNavigation.DirectionalNavigation="Once"
                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                    ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                    VirtualizingStackPanel.IsVirtualizing="True" />
                            </DockPanel>
                            <TextBlock
                                Grid.Row="2"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontSize="40"
                                Text="{DynamicResource LOCNoGamesFound}"
                                TextAlignment="Center">
                                <TextBlock.Style>
                                    <Style BasedOn="{StaticResource TextBlockBaseStyle}" TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Items.Count, ElementName=PART_ListGameItems}" Value="0">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <Grid
                                Grid.Row="3"
                                Height="140"
                                Margin="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="24" />
                                </Grid.ColumnDefinitions>
                                <ContentControl
                                    Grid.Column="1"
                                    Width="72"
                                    Height="72"
                                    Margin="16,0"
                                    HorizontalAlignment="Right"
                                    ContentTemplate="{StaticResource ButtonPromptLB}"
                                    Focusable="False"
                                    Opacity="0.67" />
                                <Border
                                    Grid.Column="2"
                                    MinWidth="480"
                                    MaxWidth="1850"
                                    Margin="10"
                                    Background="{DynamicResource TopBarBackgroundBrush}"
                                    BorderBrush="{DynamicResource DefaultBorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="60">
                                    <Border.Effect>
                                        <DropShadowEffect
                                            BlurRadius="10"
                                            Direction="315"
                                            Opacity="0.5"
                                            ShadowDepth="5"
                                            Color="Black" />
                                    </Border.Effect>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="24" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <ButtonEx
                                            x:Name="PART_ButtonMainMenu"
                                            Grid.Column="0"
                                            Height="72"
                                            MinWidth="72"
                                            Margin="32,0,16,0"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource ButtonTopMenu}">
                                            <TextBlock
                                                Margin="8,9"
                                                FontSize="52"
                                                Style="{StaticResource FluentIconStyle}"
                                                Text="&#xe700;" />
                                        </ButtonEx>
                                        <ButtonEx
                                            x:Name="PART_ButtonNotifications"
                                            Grid.Column="1"
                                            Height="72"
                                            MinWidth="72"
                                            Margin="8,0,16,0"
                                            VerticalAlignment="Center">
                                            <ButtonEx.Style>
                                                <Style BasedOn="{StaticResource ButtonTopMenu}" TargetType="{x:Type Button}">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Api Notifications.Count}" Value="0">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ButtonEx.Style>
                                            <Grid>
                                                <TextBlock
                                                    Margin="8,6"
                                                    FontSize="52"
                                                    Style="{StaticResource FluentIconStyle}"
                                                    Text="&#xf2a5;" />
                                                <TextBlock
                                                    Margin="0,12,6,-4"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Bottom"
                                                    FontSize="32"
                                                    Foreground="{DynamicResource WarningBrush}"
                                                    Text="●" />
                                            </Grid>
                                        </ButtonEx>
                                        <ButtonEx
                                            x:Name="PART_ButtonProgramUpdate"
                                            Grid.Column="2"
                                            Height="48"
                                            MinWidth="48"
                                            Margin="10,0,10,0"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource ButtonTopMenu}">
                                            <TextBlock
                                                Margin="2"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                FontFamily="{StaticResource FontIcoFont}"
                                                FontSize="30"
                                                Foreground="{DynamicResource PrimaryBrush}"
                                                Text="&#xEF08;" />
                                        </ButtonEx>
                                        <Rectangle
                                            Grid.Column="3"
                                            Width="1"
                                            Height="48"
                                            Fill="{DynamicResource TextBrushDark}" />
                                        <FilterPresetSelector
                                            x:Name="PART_FilterPresetSelector"
                                            Grid.Column="4"
                                            Margin="-12,0,0,0" />
                                    </Grid>
                                </Border>
                                <ContentControl
                                    Grid.Column="3"
                                    Width="72"
                                    Height="72"
                                    Margin="16,0"
                                    HorizontalAlignment="Left"
                                    ContentTemplate="{StaticResource ButtonPromptRB}"
                                    Focusable="False"
                                    Opacity="0.67" />
                            </Grid>
                            <Grid Grid.Row="4" Height="70">
                                <Grid.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Offset="0" Color="#000F0F0F" />
                                        <GradientStop Offset="1" Color="#CC0F0F0F" />
                                    </LinearGradientBrush>
                                </Grid.Background>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="24" />
                                </Grid.ColumnDefinitions>
                                <Border Grid.Column="1">
                                    <Border.Effect>
                                        <DropShadowEffect
                                            BlurRadius="16"
                                            Direction="315"
                                            Opacity="0.9"
                                            ShadowDepth="0"
                                            Color="Black" />
                                    </Border.Effect>
                                    <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                        <!--  Install  -->
                                        <ButtonEx
                                            x:Name="PART_ButtonInstall"
                                            Content="{DynamicResource LOCInstallGame}"
                                            Style="{DynamicResource ButtonBottomMenu}" />
                                        <!--  Play  -->
                                        <ButtonEx
                                            x:Name="PART_ButtonPlay"
                                            Content="{DynamicResource LOCPlayGame}"
                                            Style="{DynamicResource ButtonBottomMenu}" />
                                        <!--  Details  -->
                                        <ButtonEx
                                            x:Name="PART_ButtonDetails"
                                            Content="{DynamicResource LOCGameDetails}"
                                            Style="{DynamicResource ButtonBottomMenu}" />
                                        <!--  Options  -->
                                        <ButtonEx
                                            x:Name="PART_ButtonGameOptions"
                                            Content="{DynamicResource LOCGameOptions}"
                                            Style="{DynamicResource ButtonBottomMenu}" />
                                        <!--  Search  -->
                                        <ButtonEx
                                            x:Name="PART_ButtonSearch"
                                            Content="{DynamicResource LOCSearchLabel}"
                                            Style="{DynamicResource ButtonBottomMenu}" />
                                        <!--  Filter  -->
                                        <ButtonEx
                                            x:Name="PART_ButtonFilter"
                                            Content="{DynamicResource LOCFilter}"
                                            Style="{DynamicResource ButtonBottomMenu}" />
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Grid>

                        <GameDetails
                            x:Name="PART_ElemGameDetails"
                            Grid.Row="1"
                            Grid.RowSpan="4"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch" />

                        <GameStatus
                            x:Name="PART_ElemGameStatus"
                            Grid.RowSpan="5"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
